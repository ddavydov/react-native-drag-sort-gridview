"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _models=require("../models");var _react=require("react");var _reactNative=require("react-native");var _default=exports.default=function _default(_ref){var itemWidth=_ref.itemWidth,itemHeight=_ref.itemHeight,numColumns=_ref.numColumns,isEditing=_ref.isEditing,isDragging=_ref.isDragging,isDraggingItem=_ref.isDraggingItem,index=_ref.index,animDirection=_ref.animDirection,animMoveDuration=_ref.animMoveDuration,startAnim=_ref.startAnim,endAnim=_ref.endAnim;var isMoved=(0,_react.useRef)(false);var moveXAnimRef=(0,_react.useRef)(new _reactNative.Animated.Value(0));var moveYAnimRef=(0,_react.useRef)(new _reactNative.Animated.Value(0));var restore=(0,_react.useCallback)(function(){if(isMoved.current===false){return;}isMoved.current=false;startAnim();_reactNative.Animated.parallel([_reactNative.Animated.timing(moveXAnimRef.current,{toValue:0,duration:animMoveDuration,useNativeDriver:true,easing:_reactNative.Easing.out(_reactNative.Easing.ease)}),_reactNative.Animated.timing(moveYAnimRef.current,{toValue:0,duration:animMoveDuration,useNativeDriver:true,easing:_reactNative.Easing.out(_reactNative.Easing.ease)})]).start(endAnim);},[animMoveDuration,startAnim,endAnim]);var movePrev=(0,_react.useCallback)(function(){isMoved.current=true;startAnim();if(index%numColumns===0){_reactNative.Animated.parallel([_reactNative.Animated.timing(moveXAnimRef.current,{toValue:itemWidth*(numColumns-1),duration:animMoveDuration,useNativeDriver:true,easing:_reactNative.Easing.out(_reactNative.Easing.ease)}),_reactNative.Animated.timing(moveYAnimRef.current,{toValue:-itemHeight,duration:animMoveDuration,useNativeDriver:true,easing:_reactNative.Easing.out(_reactNative.Easing.ease)})]).start(endAnim);}else{_reactNative.Animated.timing(moveXAnimRef.current,{toValue:-itemWidth,duration:animMoveDuration,useNativeDriver:true,easing:_reactNative.Easing.out(_reactNative.Easing.ease)}).start(endAnim);}},[index,itemWidth,itemHeight,numColumns,animMoveDuration,startAnim,endAnim]);var moveNext=(0,_react.useCallback)(function(){isMoved.current=true;startAnim();if(index%numColumns===numColumns-1){_reactNative.Animated.parallel([_reactNative.Animated.timing(moveXAnimRef.current,{toValue:-itemWidth*(numColumns-1),duration:animMoveDuration,useNativeDriver:true,easing:_reactNative.Easing.out(_reactNative.Easing.ease)}),_reactNative.Animated.timing(moveYAnimRef.current,{toValue:itemHeight,duration:animMoveDuration,useNativeDriver:true,easing:_reactNative.Easing.out(_reactNative.Easing.ease)})]).start(endAnim);}else{_reactNative.Animated.timing(moveXAnimRef.current,{toValue:itemWidth,duration:animMoveDuration,useNativeDriver:true,easing:_reactNative.Easing.inOut(_reactNative.Easing.ease)}).start(endAnim);}},[index,itemWidth,itemHeight,numColumns,animMoveDuration,startAnim,endAnim]);(0,_react.useEffect)(function(){if(!isDragging){moveXAnimRef.current.setValue(0);moveYAnimRef.current.setValue(0);return;}if(isDraggingItem||!isEditing){return;}switch(animDirection){case _models.MOVEMENT.restore:restore();break;case _models.MOVEMENT.next:moveNext();break;case _models.MOVEMENT.prev:movePrev();break;}},[isDragging,isDraggingItem,isEditing,animDirection,moveNext,movePrev,restore]);return{moveXAnim:moveXAnimRef.current,moveYAnim:moveYAnimRef.current};};
//# sourceMappingURL=useMovementHooks.js.map